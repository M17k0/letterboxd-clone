{% extends "base.html" %}

{% block title %}Watched Movies{% endblock %}

{% block content %}
<div class="container">
  <h1>Watched Movies</h1>
  <div class="row">
    <div class="col">
      <ul class="list-group">
        {% for watched_movie in watched_movies %}
        <li class="list-group-item position-relative">
          <form action="/remove-log/{{ watched_movie.id }}" method="post">
            <button type="submit" class="btn btn-danger" style="position: absolute; top: 10px; right: 10px;">
              <span class="fa fa-trash"></span>
            </button>
          </form>
          <a class="btn btn-primary ml-3" href="/edit-log/{{ watched_movie.id }}" style="position: absolute; top: 10px; right: 100px;">Edit</a>
          <div class="d-flex align-items-start">
            <img src="{{ watched_movie.movie.poster }}" alt="{{ watched_movie.movie.title }}" class="mr-3" style="max-width: 100px;">
            <div>
              <div class="d-flex">
                <h5>{{ watched_movie.movie.title }}</h5>
                <a class="btn btn-primary ml-3" href="/similar/{{ watched_movie.movie.tmdb_id }}">Similar</a>
              </div>
              <p>Rated: {{ watched_movie.rating }}</p>
              <p>Date Watched: {{ watched_movie.date_watched.strftime("%Y-%m-%d") }}</p>
              <p style="white-space: pre-line;">Review: {{ watched_movie.review }}</p>
            </div>
          </div>
        </li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}
